import{_ as i,c as a,o as n,ae as e}from"./chunks/framework.CLNW5JS9.js";const o=JSON.parse('{"title":"Resolve å’Œ ResolveLoader","description":"","frontmatter":{"sidebarDepth":3},"headers":[],"relativePath":"docs/tools/webpack/resolve.md","filePath":"docs/tools/webpack/resolve.md"}'),l={name:"docs/tools/webpack/resolve.md"};function h(p,s,t,k,r,d){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="resolve-å’Œ-resolveloader" tabindex="-1">Resolve å’Œ ResolveLoader <a class="header-anchor" href="#resolve-å’Œ-resolveloader" aria-label="Permalink to &quot;Resolve å’Œ ResolveLoader&quot;">â€‹</a></h1><p>è¿™ä¸ªå±æ€§å¯ä»¥ä¿®æ”¹æ¨¡å—çš„è§£æè§„åˆ™ã€‚å…³äºæ¨¡å—çš„è§£æï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="https://webpack.js.org/concepts/module-resolution/" target="_blank" rel="noreferrer">module resolution</a>ã€‚</p><h2 id="æ¨¡å—è§£æè§„åˆ™" tabindex="-1">æ¨¡å—è§£æè§„åˆ™ <a class="header-anchor" href="#æ¨¡å—è§£æè§„åˆ™" aria-label="Permalink to &quot;æ¨¡å—è§£æè§„åˆ™&quot;">â€‹</a></h2><p>è¿™é‡Œæˆ‘ä»¬å¯¹è¿™ä¸ªè§£æè§„åˆ™åšä¸€ä¸ªç®€å•çš„ä»‹ç»ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬è¦çŸ¥é“ï¼Œwebpack æ˜¯æœ‰è‡ªå·±çš„é»˜è®¤è·¯å¾„è§£æè§„åˆ™çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨ä»£ç ä¸­ä½¿ç”¨ importï¼Œrequire ç­‰è¯­å¥è¯·æ±‚å¦ä¸€ä¸ªæ–‡ä»¶ï¼Œwebpack èƒ½æ­£ç¡®çš„åŠ è½½å‡ºæ¥çš„åŸå› ã€‚<strong>è§£æå™¨æ˜¯æ ¹æ®èµ„æºçš„ç»å¯¹è·¯å¾„å»å®šä½æ¨¡å—çš„ã€‚</strong> webpack ä½¿ç”¨ <a href="https://github.com/webpack/enhanced-resolve" target="_blank" rel="noreferrer">enhanced-resolve</a> ä½œä¸ºè§£æå™¨å»<strong>è§£ææ¨¡å—è·¯å¾„</strong>ï¼Œä»–çš„è§£æè§„åˆ™å¦‚ä¸‹ï¼š</p><h3 id="ç»å¯¹è·¯å¾„" tabindex="-1">ç»å¯¹è·¯å¾„ <a class="header-anchor" href="#ç»å¯¹è·¯å¾„" aria-label="Permalink to &quot;ç»å¯¹è·¯å¾„&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/home/workspace/util&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// or windows</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Users</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">me</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">file&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>ç”±äºæˆ‘ä»¬å·²ç»æ‹¿åˆ°äº†ç»å¯¹è·¯å¾„ï¼Œè¿™æ—¶å€™å°±ä¸éœ€è¦ä»€ä¹ˆè§£æå™¨å»è§£æäº†ã€‚</p><h3 id="ç›¸å¯¹è·¯å¾„" tabindex="-1">ç›¸å¯¹è·¯å¾„ <a class="header-anchor" href="#ç›¸å¯¹è·¯å¾„" aria-label="Permalink to &quot;ç›¸å¯¹è·¯å¾„&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../src/util.js&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./math.js&#39;</span></span></code></pre></div><p>å°†å½“å‰æ–‡ä»¶æ‰€åœ¨ç›®å½•ä½œä¸ºä¸Šä¸‹æ–‡ï¼Œåœ¨æ ¹æ®ç›¸å¯¹è·¯å¾„çš„ä½ç½®å»è§£æå¯¹åº”çš„æ–‡ä»¶ã€‚</p><h3 id="æ¨¡å—è·¯å¾„" tabindex="-1">æ¨¡å—è·¯å¾„ <a class="header-anchor" href="#æ¨¡å—è·¯å¾„" aria-label="Permalink to &quot;æ¨¡å—è·¯å¾„&quot;">â€‹</a></h3><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;module&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;module/file.js&#39;</span></span></code></pre></div><p>æ¨¡å—çš„æœç´¢èŒƒå›´åœ¨ <strong>resolve.modules</strong> ä¸­æŒ‡å®šçš„æ‰€æœ‰ç›®å½•ä¸­ã€‚ä½ å¯ä»¥é€šè¿‡é…ç½® <strong>resolve.alias</strong> ç»™ä¸€ä¸ªæ¨¡å—èµ·ä¸€ä¸ªåˆ«åï¼Œç„¶åé€šè¿‡è¿™ä¸ªåˆ«åå¼•å…¥è¿™ä¸ªæ¨¡å—ï¼Œè¿™é‡Œå…ˆæœ‰ä¸ªå°è±¡ï¼Œæˆ‘ä»¬ä¸‹æ–‡ä¼šå…·ä½“ä»‹ç»ã€‚</p><p>å½“è·¯å¾„ç¡®è®¤åï¼Œè§£æå™¨ä¼šæ£€æŸ¥è¿™ä¸ªè·¯å¾„æŒ‡å‘çš„æ˜¯ä¸€ä¸ªæ–‡ä»¶è¿˜æ˜¯ä¸€ä¸ªç›®å½•ã€‚</p><p>å¦‚æœæŒ‡å‘ä¸€ä¸ªæ–‡ä»¶çš„è¯ï¼Œåˆ†è¿™ä¸¤ç§æƒ…å†µï¼š</p><ol><li>è·¯å¾„åŒ…å«æ–‡ä»¶æ‰©å±•åï¼Œåˆ™ç›´æ¥ç»‘å®šåˆ°è¿™ä¸ªæ–‡ä»¶</li><li>æ–‡ä»¶ä¸åŒ…å«æ‰©å±•åçš„æƒ…å†µä¸‹ï¼Œä¼šé‡‡ç”¨ <strong>resolve.extensions</strong> ä¸­çš„é€‰é¡¹ï¼Œé€ä¸€çš„å»è¯•æ¢æœ‰æ²¡æœ‰å¯¹åº”æ‰©å±•åçš„æ–‡ä»¶å­˜åœ¨</li></ol><p>å¦‚æœæŒ‡å‘ä¸€ä¸ªç›®å½•çš„è¯ï¼Œä¼šæŒ‰å¦‚ä¸‹çš„æµç¨‹å»ç¡®å®šæ–‡ä»¶ï¼š</p><ol><li>å¦‚æœç›®å½•ä¸­åŒ…å« package.json æ–‡ä»¶ï¼Œé‚£ä¹ˆä¼šæŒ‰é¡ºåºçš„æœç´¢ resolve.mainFields ä¸­çš„é…ç½®é¡¹ï¼Œæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹å°†ä¼šå†³å®šæ–‡ä»¶è·¯å¾„</li><li>å¦‚æœæ²¡æœ‰ package.json æ–‡ä»¶ï¼Œæˆ–è€… resolve.mainFields è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªæœ‰æ•ˆè·¯å¾„ï¼Œé‚£ä¹ˆä¼šå»æŒ‰é¡ºåºçš„æŸ¥æ‰¾ resolve.mainFiles ä¸­çš„é…ç½®é¡¹ï¼Œçœ‹åœ¨è¿™ä¸ªç›®å½•ä¸‹èƒ½ä¸èƒ½æ‰¾ä¸€ä¸ªåŒ¹é…çš„æ–‡ä»¶</li><li>æ ¹æ® resolve.extensions çš„é…ç½®è§£ææ–‡ä»¶ã€‚</li></ol><p>å¦‚æœä½ å¯¹ resolve çš„é…ç½®ä¸æ˜¯å¾ˆäº†è§£çš„è¯ï¼Œé‚£ä¹ˆä½ å¯¹ä¸Šè¿°è¡¨è¿°çš„å†…å®¹å¯èƒ½ä¸æ˜¯å¾ˆæ¸…æ¥šã€‚æ²¡å…³ç³»ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥çœ‹çœ‹ resolve çš„å„é¡¹é…ç½®ï¼Œç›¸ä¿¡ä½ çœ‹å®Œä»¥åå†æ¥å›é¡¾ï¼Œä¸€å®šå¯ä»¥ç†è§£ã€‚</p><h2 id="resolve-é…ç½®è¯¦è§£" tabindex="-1">resolve é…ç½®è¯¦è§£ <a class="header-anchor" href="#resolve-é…ç½®è¯¦è§£" aria-label="Permalink to &quot;resolve é…ç½®è¯¦è§£&quot;">â€‹</a></h2><h3 id="alias-ğŸ”‘" tabindex="-1">alias ğŸ”‘ <a class="header-anchor" href="#alias-ğŸ”‘" aria-label="Permalink to &quot;alias ğŸ”‘&quot;">â€‹</a></h3><p>é…ç½®æ¨¡å—çš„åˆ«åã€‚çœ‹ä¸‹é¢çš„æ —å­ï¼š</p><p>å¦‚æœä¸ä½¿ç”¨è¿™ä¸ªé…ç½®ï¼Œæˆ‘ä»¬å¼•å…¥æŸä¸ªæ–‡ä»¶å¯èƒ½è¦å†™ä¸Šä¸€è¿ä¸²çš„è·¯å¾„ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> utils </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../../path/to/utils/&#39;</span></span></code></pre></div><p>è¿™æ ·çš„æ–¹å¼ï¼Œä¸ä»…å®¹æ˜“å‡ºé”™ï¼Œè€Œä¸”ä¸€æ—¦ä½ å˜æ›´äº†æ–‡ä»¶çš„è·¯å¾„ï¼Œä½ å°±è¦å»æ‰‹åŠ¨çš„ä¿®æ”¹å¼•å…¥æ¨¡å—çš„è·¯å¾„ï¼Œå¾ˆä¸æ–¹ä¾¿ã€‚è¿™æ—¶å€™ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨ alias æ¥é…ç½®ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    alias: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      util: path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path/to/utils&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>æœ‰äº†è¿™ä¸ªé…ç½®ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨ä»£ç ä¸­é€šè¿‡ï¼š<code>import util from &#39;util&#39;</code> æ¥ä½¿ç”¨è¿™ä¸ªæ¨¡å—çš„å†…å®¹ï¼Œç›¸å½“æ–¹ä¾¿ï¼</p><p>ä» webpack 5 å¼€å§‹ï¼Œå®ƒçš„å€¼ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªè·¯å¾„æ•°ç»„ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    alias: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      util: [path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path/to/utils&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path/to/another/utils&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ä½ ä¹Ÿå¯ä»¥è®© webpack ä¸å»è§£æè¿™ä¸ªæ¨¡å—è·¯å¾„ï¼Œåªè¦å°†å®ƒè®¾ç½®æˆ false å³å¯ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    alias: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      util: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="ç²¾ç¡®åŒ¹é…" tabindex="-1">ç²¾ç¡®åŒ¹é… <a class="header-anchor" href="#ç²¾ç¡®åŒ¹é…" aria-label="Permalink to &quot;ç²¾ç¡®åŒ¹é…&quot;">â€‹</a></h4><p>ä½ å¯ä»¥åœ¨ key åé¢åŠ ä¸Šä¸€ä¸ª $ è¡¨ç¤ºç²¾ç¡®çš„åŒ¹é…ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    alias: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      xyz$: path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path/to/file.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>å¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Test1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;xyz&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ­£ç¡®åŒ¹é…ã€‚è¿™å°±ç›¸å½“äºå¼•å…¥äº† path/to/file.js æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Test2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;xyz/file.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŒ¹é…å¤±è´¥ã€‚ä¼šæ‰§è¡Œæ™®é€šçš„æ–‡ä»¶è§£æã€‚ä¹Ÿå°±æ˜¯ä¼šå…ˆå»æ‰¾ node_modules/xyz/file.jsï¼Œåœ¨ä¸€çº§ä¸€çº§å¾€ä¸Šæ‰¾ã€‚</span></span></code></pre></div><p>æ›´å¤šçš„å¯ä»¥å‚è€ƒè¿™å¼ è¡¨ï¼š<a href="https://webpack.js.org/configuration/resolve/#resolvealias" target="_blank" rel="noreferrer">resolve.alias</a></p><h3 id="aliasfields" tabindex="-1">aliasFields <a class="header-anchor" href="#aliasfields" aria-label="Permalink to &quot;aliasFields&quot;">â€‹</a></h3><p>æŒ‡å®šè¦æ ¹æ®è¿™ä¸ª <a href="https://github.com/defunctzombie/package-browser-field-spec" target="_blank" rel="noreferrer">è§„èŒƒ</a> è§£æçš„å­—æ®µï¼Œæ¯”å¦‚ browserã€‚ä¸€èˆ¬æˆ‘ä»¬å¾ˆå°‘ä¼šé…ç½®è¿™ä¸ªå­—æ®µã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    aliasFields: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;browser&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="descriptionfiles-ğŸ”‘" tabindex="-1">descriptionFiles ğŸ”‘ <a class="header-anchor" href="#descriptionfiles-ğŸ”‘" aria-label="Permalink to &quot;descriptionFiles  ğŸ”‘&quot;">â€‹</a></h3><p>æŒ‡å®šæè¿°æ–‡ä»¶ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    descriptionFiles: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;package.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="enforceextension-ğŸ”‘" tabindex="-1">enforceExtension ğŸ”‘ <a class="header-anchor" href="#enforceextension-ğŸ”‘" aria-label="Permalink to &quot;enforceExtension  ğŸ”‘&quot;">â€‹</a></h3><p>å¼ºåˆ¶ä½¿ç”¨åç¼€åã€‚å¦‚æœè®¾ç½®æˆ true çš„è¯ï¼Œé‚£ä¹ˆä½ æ¯ä¸ªæ¨¡å—å¼•å…¥çš„ä»£ç éƒ½è¦å¸¦ä¸Šåç¼€åï¼Œä¸ç„¶è§£æä¼šæŠ¥é”™ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    enforceExtension: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="extensions-ğŸ”‘" tabindex="-1">extensions ğŸ”‘ <a class="header-anchor" href="#extensions-ğŸ”‘" aria-label="Permalink to &quot;extensions  ğŸ”‘&quot;">â€‹</a></h3><p>è¦è§£æçš„æ–‡ä»¶çš„åç¼€åã€‚å¦‚æœä½ å¼•å…¥çš„æ–‡ä»¶æ²¡æœ‰æä¾›åç¼€çš„è¯ï¼Œé‚£ä¹ˆä¼šæŒ‰é¡ºåºçš„å°è¯•è¿™é‡Œé¢çš„åç¼€ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œåé¢çš„éƒ½è·³è¿‡ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    extensions: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.jsx&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>å‡è®¾æˆ‘æœ‰ä¸€ä¸ª Button.jsx æ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘åœ¨å…¶å®ƒæ–‡ä»¶ä¸­å¼•å…¥è¿™ä¸ª Button çš„æ—¶å€™è¿™ä¹ˆå¼•å…¥çš„ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Button </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./src/components/Button&#39;</span></span></code></pre></div><p>é‚£ä¹ˆè§£æå™¨å°±ä¼šå…ˆæ‰¾ src/components/Button.jsï¼Œæ²¡æ‰¾åˆ°ï¼Œç»§ç»­æ‰¾ src/components/Button.jsxï¼Œæ‰¾åˆ°äº†ï¼ŒOkï¼Œç»“æŸã€‚</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>å¦‚æœä½ é…ç½®äº†è¿™ä¸ªé€‰é¡¹ï¼Œé‚£ä¹ˆæ„å‘³è¿™ webpack é»˜è®¤çš„è§„åˆ™è¢«ä½ é‡å†™äº†ã€‚ä½ é¡¹ç›®ä¸­æ‰€æœ‰çš„æ–‡ä»¶å¼•å…¥éƒ½ä¼šä½¿ç”¨è¿™ä¸ªè§„åˆ™å»è§£æã€‚</p></div><h3 id="mainfields-ğŸ”‘" tabindex="-1">mainFields ğŸ”‘ <a class="header-anchor" href="#mainfields-ğŸ”‘" aria-label="Permalink to &quot;mainFields  ğŸ”‘&quot;">â€‹</a></h3><p>å½“ä»ä¸€ä¸ª npm åŒ…ä¸­å¯¼å…¥æ—¶ï¼Œæ¯”å¦‚ï¼š<code>import Vue from &#39;vue&#39;</code>ï¼Œç”¨ package.json ä¸­å“ªä¸ªå­—æ®µçš„å€¼å¯¹åº”çš„æ–‡ä»¶ï¼Œå°±æ˜¯è¿™ä¸ªå±æ€§å†³å®šçš„ã€‚å®ƒçš„é»˜è®¤å€¼è·Ÿä½  webpack é…ç½®çš„ target æœ‰å…³ï¼š</p><p>å½“ target ä¸º webworkerï¼Œwebï¼Œæˆ–è€…æ²¡æœ‰æŒ‡å®šçš„æ—¶å€™ï¼Œé»˜è®¤å€¼ä¸ºï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mainFields: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;browser&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;module&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;main&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>å…¶å®ƒæƒ…å†µä¸‹ä¸ºï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mainFields: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;module&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;main&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>ä¸¾ä¸ªæ —å­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„ vue.js çš„ package.json æ–‡ä»¶ä¸­æœ‰å¦‚ä¸‹çš„é…ç½®ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;main&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dist/vue.runtime.common.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;module&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dist/vue.runtime.esm.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>import Vue from &#39;vue&#39;</code> çš„æ—¶å€™ï¼Œåœ¨é»˜è®¤çš„ webpack é…ç½®ä¸‹ï¼Œå¾ˆæ˜¾ç„¶ä¼šå»æ‰¾ module å¯¹åº”çš„å€¼ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„ dist/vue.runtime.esm.js æ–‡ä»¶ã€‚å› ä¸º module åœ¨æ•°ç»„çš„å‰é¢ï¼Œä¼˜å…ˆçº§é«˜ã€‚</p><h3 id="mainfiles-ğŸ”‘" tabindex="-1">mainFiles ğŸ”‘ <a class="header-anchor" href="#mainfiles-ğŸ”‘" aria-label="Permalink to &quot;mainFiles  ğŸ”‘&quot;">â€‹</a></h3><p>å½“è§£æåˆ°ä¸€ä¸ªç›®å½•çš„æ—¶å€™ï¼Œåº”è¯¥å»æ‰¾è¯¥ç›®å½•ä¸‹çš„å“ªä¸ªæ–‡ä»¶ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mainFiles: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;index&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>æ¯”å¦‚ä½ ä½¿ç”¨ <code>import { Button } from &#39;./components&#39;</code> çš„æ—¶å€™ï¼Œå®ƒå°±ä¼šæ‰¾ ./components/index.js æ–‡ä»¶ã€‚</p><h3 id="modules-ğŸ”‘" tabindex="-1">modules ğŸ”‘ <a class="header-anchor" href="#modules-ğŸ”‘" aria-label="Permalink to &quot;modules  ğŸ”‘&quot;">â€‹</a></h3><p>æŒ‡å®š webpack è§£ææ¨¡å—æ—¶çš„æœç´¢è·¯å¾„ã€‚</p><p>ä»–å¯ä»¥æ˜¯ä¸€ä¸ªç›¸å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ã€‚å¦‚æœæ˜¯ç›¸å¯¹è·¯å¾„çš„è¯ï¼Œå®ƒä¼šè·Ÿ Node å¯»æ‰¾ node_modules ä¸€æ ·ï¼Œä¸€å±‚å±‚çš„å¾€ä¸Šçº§æ‰¾ï¼›å¦‚æœæ˜¯ç»å¯¹è·¯å¾„çš„è¯ï¼Œé‚£ä¹ˆå°±ç›´æ¥åœ¨è¿™ä¸ªè·¯å¾„é‡Œé¢æ‰¾ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    modules: [path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;src&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node_modules&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>æ³¨æ„ï¼Œæ•°ç»„é‡Œçš„é¡ºåºä¹Ÿä»£è¡¨äº†æŸ¥æ‰¾çš„ä¼˜å…ˆçº§ã€‚ä¸Šé¢çš„å®šä¹‰è¡¨ç¤ºï¼Œé’ˆå¯¹ä¸€ä¸ªæ–‡ä»¶ï¼Œå…ˆä» src ç›®å½•æ‰¾ï¼ˆè¿™æ˜¯ä¸€ä¸ªç»å¯¹è·¯å¾„ï¼‰ï¼Œæ²¡æ‰¾åˆ°çš„è¯å†ä» node_modules æ‰¾ï¼Œè¿˜æ²¡æ‰¾åˆ°çš„è¯å†ä» ../node_modules æ‰¾ï¼ˆè¿™æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œä¼šé€å±‚å¾€ä¸Šæ‰¾ï¼‰ï¼Œç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢ï¼Œå¦åˆ™æŠ¥é”™æ‰¾ä¸åˆ° moduleã€‚</p><h3 id="unsafecache" tabindex="-1">unsafeCache <a class="header-anchor" href="#unsafecache" aria-label="Permalink to &quot;unsafeCache&quot;">â€‹</a></h3><p>å¼€å¯ä¸å®‰å…¨çš„ç¼“å­˜ï¼ˆå¬ç€åå­—å°±ä¸å®‰å…¨ï¼‰ã€‚è®¾ç½®ä¸º true çš„è¯å°†ä¼šå¯¹æ‰€æœ‰æ¨¡å—åšç¼“å­˜ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‡å®šæŸä¸ªæ–‡ä»¶å¤¹å»å•ç‹¬åšç¼“å­˜ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // unsafeCache: true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    unsafeCache:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">src</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\/</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">utilities</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // åªå¯¹ src/utilities åšç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="cachewithcontext" tabindex="-1">cacheWithContext <a class="header-anchor" href="#cachewithcontext" aria-label="Permalink to &quot;cacheWithContext&quot;">â€‹</a></h3><p>å¦‚æœå¯ç”¨äº† unsafeCache ï¼Œé‚£ä¹ˆæŠŠ request.context ä½œä¸ºç¼“å­˜çš„ key åŒ…å«è¿›æ¥ã€‚å› ä¸º webpack 3.1.0 çš„æ—¶å€™ï¼Œå½“ä½ é…ç½®äº†resolve æˆ– resolveLoaderï¼Œé‚£ä¹ˆ context ä¼šåœ¨è§£æç¼“å­˜çš„æ—¶å€™è¢«å¿½ç•¥ã€‚è¿™ä¸ªé€‰é¡¹æ˜¯ä¸ºäº†æ€§èƒ½è€ƒè™‘åŠ ä¸Šçš„ã€‚</p><h3 id="cachepredicate" tabindex="-1">cachePredicate <a class="header-anchor" href="#cachepredicate" aria-label="Permalink to &quot;cachePredicate&quot;">â€‹</a></h3><p>A function which decides whether a request should be cached or not. An object is passed to the function with path and request properties. It must return a boolean.</p><p>è¿™æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒå†³å®šç€è¦ä¸è¦å¯¹ä¸€ä¸ªè¯·æ±‚åšç¼“å­˜ã€‚å‡½æ•°æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå®ƒæœ‰ path å’Œ request ä¸¤ä¸ªå±æ€§ã€‚å‡½æ•°å¿…é¡»è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œæ¥å†³å®šç¼“å­˜ä¸å¦ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    cachePredicate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">node_modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.path); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åªå¯¹ node_modules ä¸‹çš„åšç¼“å­˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><h3 id="restrictions" tabindex="-1">restrictions <a class="header-anchor" href="#restrictions" aria-label="Permalink to &quot;restrictions&quot;">â€‹</a></h3><p>è¿™ä¸ªæ˜¯ webpack5 æ–°åŠ çš„é…ç½®ï¼Œç”¨æ¥é™åˆ¶è§£æçš„è·¯å¾„ã€‚æ¯”å¦‚ä½ åªæƒ³è§£æ js æ–‡ä»¶å’Œ css æ–‡ä»¶çš„è¯ï¼Œä½ å¯ä»¥è¿™ä¹ˆé…ç½®ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolve: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    restrictions: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">(js</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">css)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>è¿™æ ·ï¼Œä½ é¡¹ç›®ä¸­ä»»ä½•è§£æåˆ°å…¶å®ƒç±»å‹æ–‡ä»¶çš„æ—¶å€™ï¼Œå°±ä¼šæŠ¥é”™ã€‚</p><h2 id="resolveloader-é…ç½®" tabindex="-1">resolveLoader é…ç½® <a class="header-anchor" href="#resolveloader-é…ç½®" aria-label="Permalink to &quot;resolveLoader é…ç½®&quot;">â€‹</a></h2><p>resolveLoader çš„é…ç½®å’Œ resolve ä¸€æ¨¡ä¸€æ ·ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯å®ƒçš„ä½œç”¨å¯¹è±¡æ˜¯ loaderã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  resolveLoader: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    modules: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node_modules&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/my-loaders&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æŒ‡å®šä» node_modules å’Œ ./src/my-loaders ä¸­è§£æ loader</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    extensions: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;.json&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mainFields: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;main&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div>`,88)]))}const g=i(l,[["render",h]]);export{o as __pageData,g as default};
